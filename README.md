# dependencies_edu

## 1. Общее описание

Инструмент визуализации графа зависимостей для менеджера пакетов Ubuntu. Программа позволяет анализировать и отображать зависимости между пакетами без использования сторонних менеджеров пакетов, работая напрямую с репозиториями Ubuntu.

## 2. Описание всех функций и настроек

### Класс Config
Хранит все параметры конфигурации приложения:
- `package_name` - имя анализируемого пакета
- `repository_url` - URL репозитория или путь к локальному репозиторию
- `test_repo_mode` - режим работы (false - удаленный репозиторий, true - локальный тестовый)
- `package_version` - версия пакета (если пусто - используется последняя версия)
- `output_filename` - имя файла для вывода графа
- `max_depth` - максимальная глубина анализа зависимостей
- `filter_substring` - подстрока для фильтрации пакетов

### Основные функции

#### `build_dependency_graph(config, packages_content)`
Рекурсивно строит граф зависимостей пакетов с использованием поиска в глубину (DFS).
- **Параметры:** 
  - `config` - обьект конфигурации
  - `packages_content` - содержимое файла Packages
- **Возвращает:** словарь, представляющий граф зависимостей

#### `parse_toml_value(value_str)`
Кастомный парсер значений TOML без использования сторонних библиотек.
- **Параметры:** `value_str` - строковое значение из файла конфигурации
- **Возвращает:** распарсенное значение (bool, int, str)

#### `parse_depends_line(depends_line)`
Парсер сложных строк зависимостей формата Ubuntu.
- **Параметры:** `depends_line` - строка из поля Depends файла Packages
- **Возвращает:** список чистых имен пакетов

#### `find_package_dependencies(packages_content, package_name, package_version)`
Ищет зависимости конкретного пакета и версии в содержимом Packages.
- **Параметры:**
  - `packages_content` - содержимое файла Packages
  - `package_name` - имя искомого пакета
  - `package_version` - версия пакета
- **Возвращает:** список зависимостей

#### `load_config(filename)`
Загружает и валидирует конфигурационный файл.
- **Параметры:** `filename` - путь к файлу конфигурации
- **Возвращает:** обьект Config с заполненными полями

#### `get_latest_package_version(packages_content, package_name)`
Определяет последнюю версию пакета в репозитории.
- **Параметры:**
  - `packages_content` - содержимое файла Packages
  - `package_name` - имя пакета
- **Возвращает:** строку с последней версией пакета

#### `get_packages_content(repository_url, test_repo_mode)`
Получает содержимое файла пакетов.
- **Параметры:**
  - `repository_url` - URL или путь к репозиторию
  - `test_repo_mode` - флаг режима работы(тестовый или нет)
- **Возвращает:** содержимое файла packages

#### `print_dependency_graph(graph, config)`
Выводит граф зависимостей в читаемом формате.
- **Параметры:**
  - `graph` - словарь с графом зависимостей
  - `config` - обьект конфигурации

#### `main()`
Основная функция приложения, координирующая весь процесс анализа зависимостей.

## 3. Команды для сборки проекта и запуска тестов

### Требования
- Python 3.6 или выше
- Доступ к интернету (для работы с сетевыми репозиториями)
- Права на чтение/запись файлов (для тестового режима)

### Установка и настройка
1. Скачайте файл `main.py`
2. При необходимости замените путь к конфигу по умолчанию (указан в строке 298)

### Запуск проекта
1. Запустите PowerShell
2. Перейдите к директории, содержащей `main.py`:
   ```powershell
   cd <директория>##ввести реальную директорию вместо скобок и содержимого
   ```
3. Ввести команду
   ```powershell
    python main.py
   ```
4. При необходимости использования определенного файла конфига путь к нему в качестве параметра команды:
   ```powershell
   python main.py <путь к файлу>##ввести реальный путь вместо скобок и содержимого
   ```
ПУТЬ ВВОДИТЬ БЕЗ КАВЫЧЕК
## 4. Примеры использования:
   Сначала вводим:
   ```powershell
   cd <директория>##ввести реальную директорию вместо скобок и содержимого
   ```
   Стандартное использование: вводим:
   ```powershell
   python main.py
   ```
   Тестирование: вводим:
   ```powershell
   C:\Downloads\conf\configTest.toml
   ```
   Программа запустится в тестовом режиме. При нгеобходимости можно заменить аргумент на ваше расположение тестового конфига.

